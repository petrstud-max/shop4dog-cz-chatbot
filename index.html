<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop4Dog.cz ‚Äî AI Asistent</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #e4e4e3; --primary-dark: #b3b3b3; --accent: #ff9900;
            --dark: #020203; --dark-light: #1a1a1e; --white: #ffffff;
            --bg: #f5f5f5; --card: #ffffff; --text: #1a1a1a;
            --text-light: #6b7280; --border: #e5e5e5;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; font-weight: 300; background: var(--bg); color: var(--text); height: 100vh; display: flex; flex-direction: column; }
        .header { background: var(--white); padding: 14px 24px; display: flex; align-items: center; gap: 16px; border-bottom: 3px solid var(--primary); }
        .header-logo img { height: 48px; width: auto; }
        .header-logo-text { color: var(--text); font-weight: 700; font-size: 22px; }
        .header-divider { width: 1px; height: 32px; background: var(--border); }
        .header-info h1 { font-size: 16px; font-weight: 500; color: var(--primary); }
        .header-info p { font-size: 12px; font-weight: 300; color: var(--text-light); }
        .header-status { margin-left: auto; display: flex; align-items: center; gap: 6px; font-size: 12px; color: var(--text-light); }
        .status-dot { width: 8px; height: 8px; background: var(--primary); border-radius: 50%; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .chat-container { flex: 1; overflow-y: auto; padding: 24px; display: flex; flex-direction: column; gap: 16px; background: var(--bg); }
        .chat-container::-webkit-scrollbar { width: 6px; }
        .chat-container::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
        .message { max-width: 72%; padding: 14px 18px; border-radius: 16px; line-height: 1.6; font-size: 15px; font-weight: 300; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
        .message-bot { background: var(--card); color: var(--text); align-self: flex-start; border-bottom-left-radius: 4px; box-shadow: 0 1px 4px rgba(0,0,0,0.06); border-left: 3px solid var(--primary); }
        .message-user { background: var(--dark); color: var(--white); align-self: flex-end; border-bottom-right-radius: 4px; box-shadow: 0 1px 4px rgba(0,0,0,0.12); }
        .message-typing { background: var(--card); align-self: flex-start; border-bottom-left-radius: 4px; box-shadow: 0 1px 4px rgba(0,0,0,0.06); border-left: 3px solid var(--primary); display: flex; gap: 5px; padding: 18px 22px; }
        .typing-dot { width: 8px; height: 8px; background: var(--primary); border-radius: 50%; animation: typing 1.4s infinite; }
        .typing-dot:nth-child(2) { animation-delay: 0.2s; } .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing { 0%, 60%, 100% { transform: translateY(0); opacity: 0.3; } 30% { transform: translateY(-8px); opacity: 1; } }
        .quick-buttons { display: flex; flex-wrap: wrap; gap: 8px; padding: 0 24px; margin-bottom: 8px; }
        .quick-btn { background: var(--card); border: 1px solid var(--primary); border-radius: 20px; padding: 8px 18px; font-size: 13px; font-family: 'Roboto', sans-serif; font-weight: 400; cursor: pointer; color: var(--primary-dark); transition: all 0.2s; }
        .quick-btn:hover { background: var(--primary); color: var(--white); border-color: var(--primary); }
        .input-area { padding: 16px 24px; background: var(--white); border-top: 1px solid var(--border); display: flex; gap: 12px; }
        .input-area input { flex: 1; padding: 14px 20px; background: var(--bg); border: 1px solid var(--border); border-radius: 24px; font-size: 15px; font-family: 'Roboto', sans-serif; font-weight: 300; color: var(--text); outline: none; }
        .input-area input:focus { border-color: var(--primary); box-shadow: 0 0 0 2px rgba(0,0,0,0.08); }
        .input-area input::placeholder { color: var(--text-light); }
        .input-area button { background: var(--primary); color: var(--white); border: none; border-radius: 50%; width: 48px; height: 48px; cursor: pointer; font-size: 20px; font-weight: 700; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
        .input-area button:hover { background: var(--primary-dark); transform: scale(1.05); }
        .input-area button:disabled { background: var(--border); color: var(--text-light); cursor: not-allowed; }
        .footer { text-align: center; padding: 8px; font-size: 11px; color: var(--text-light); background: var(--white); border-top: 1px solid var(--border); }
        .footer a { color: var(--primary); text-decoration: none; font-weight: 400; }
        @media (max-width: 600px) { .message { max-width: 88%; font-size: 14px; } .header { padding: 12px 16px; } .chat-container { padding: 16px; } .input-area { padding: 12px 16px; } .quick-buttons { padding: 0 16px; } }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-logo"><img src="https://www.shop4dog.cz/_obchody/shop4animals.shop5.cz/prilohy/1056/logo-0.png" alt="Shop4Dog.cz" onerror="this.outerHTML='<span class=\'header-logo-text\'>Shop4Dog.cz</span>'"></div>
        <div class="header-divider"></div>
        <div class="header-info"><h1>AI Asistent</h1><p>Zeptejte se na cokoliv o Shop4Dog.cz</p></div>
        <div class="header-status"><div class="status-dot"></div>Online</div>
    </div>
    <div class="chat-container" id="chat"><div class="message message-bot">V√≠tejte na Shop4Dog.cz! Jak v√°m mohu pomoci s va≈°imi zv√≠≈ô√°tky?</div></div>
    <div class="quick-buttons" id="quickButtons"><button class="quick-btn" onclick="sendQuick('Jak√© produkty m√°te pro psy?')">üê∂ Psi</button>
        <button class="quick-btn" onclick="sendQuick('Jak√© produkty m√°te pro koƒçky?')">üê± Koƒçky</button>
        <button class="quick-btn" onclick="sendQuick('Kam doruƒçujete zbo≈æ√≠?')">üìç Rozvoz</button>
        <button class="quick-btn" onclick="sendQuick('Jak v√°s mohu kontaktovat?')">üìû Kontakt</button>
        <button class="quick-btn" onclick="sendQuick('Jak√© zbo≈æ√≠ m√°te ve v√Ωprodeji?')">üõí V√Ωprodej</button>
        <button class="quick-btn" onclick="sendQuick('Jak√© jsou novinky v nab√≠dce?')">üÜï Novinky</button></div>
    <div class="input-area">
        <input type="text" id="userInput" placeholder="Napiste svou otazku..." autocomplete="off" onkeydown="if(event.key==='Enter') sendMessage()">
        <button id="sendBtn" onclick="sendMessage()">&#9654;</button>
    </div>
    <div class="footer">Powered by AI &middot; <a href="https://www.shop4dog.cz" target="_blank">shop4dog.cz</a></div>
    <script>
        const chat=document.getElementById('chat'),input=document.getElementById('userInput'),sendBtn=document.getElementById('sendBtn'),quickButtons=document.getElementById('quickButtons'),sessionId='session_'+Date.now();
        function addMessage(t,u){const d=document.createElement('div');d.className='message '+(u?'message-user':'message-bot');d.textContent=t;chat.appendChild(d);chat.scrollTop=chat.scrollHeight;}
        function showTyping(){const d=document.createElement('div');d.className='message message-typing';d.id='typing';d.innerHTML='<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';chat.appendChild(d);chat.scrollTop=chat.scrollHeight;}
        function hideTyping(){const e=document.getElementById('typing');if(e)e.remove();}
        async function sendMessage(){const t=input.value.trim();if(!t)return;quickButtons.style.display='none';addMessage(t,true);input.value='';sendBtn.disabled=true;showTyping();try{const r=await fetch('/api/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:t,session_id:sessionId})});const d=await r.json();hideTyping();addMessage(d.reply,false);}catch(e){hideTyping();addMessage('Omlouvam se, nepodarilo se spojit se serverem.',false);}sendBtn.disabled=false;input.focus();}
        function sendQuick(t){input.value=t;sendMessage();}
        input.focus();
    </script>
</body>
</html>
